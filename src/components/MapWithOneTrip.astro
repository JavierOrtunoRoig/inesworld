---
const { origin, destination } = Astro.props;
---

<!-- Chart code -->
<script type="module" data-origin={origin} data-destination={destination} id="cities-data">
  import { main } from "/maps/mapWithNextTrip.js";
  const scrp = document.scripts.namedItem("cities-data")
  const o = scrp.dataset.origin;
  const d = scrp.dataset.destination;
  main(o, d);
</script>

<script type="module">
  if (!document.querySelector('canvas')) {
    location.reload();
  }
</script>

<!-- HTML -->
<script
  slot="custom-header-scripts"
  src="https://cdn.amcharts.com/lib/5/index.js"></script>
<script slot="custom-header-scripts" src="https://cdn.amcharts.com/lib/5/map.js"
></script>
<!-- <script slot="custom-header-scripts" src="https://cdn.amcharts.com/lib/5/geodata/worldLow.js"></script> -->
<script
  slot="custom-header-scripts"
  src="https://cdn.amcharts.com/lib/5/geodata/worldHigh.js"></script>
<!-- <script slot="custom-header-scripts" src="https://cdn.amcharts.com/lib/5/geodata/worldUltra.js"></script> -->
<script
  slot="custom-header-scripts"
  src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>

<div id="chartdiv"></div>


<!-- Styles -->
<style>
  #chartdiv {
    width: 100%;
    max-width: 500px;
    height: 500px;
  }
  
  canvas {
    width: 100%;
    max-width: 500px;
    height: 500px;
  }
</style>
