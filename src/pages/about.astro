---
import AboutSubSection from "@/components/AboutSubSection.astro";
import BasicLayout from "@/layouts/BasicLayout.astro";
import "@fontsource/lobster";
import "@fontsource/smooch";
import { changeLanguage } from "i18next";
import { getLangFromUrl, useTranslations } from "../i18n/utils";
// Supports weights 400-700
import "@fontsource-variable/dancing-script";

changeLanguage("en");

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<BasicLayout description={t("about.description")}>
	<div id="container">
		<div id="parallax"></div>
		<div id="text" class="relative h-full w-full">
			<div class="absolute bottom-40 right-32 w-fit md:right-0 lg:right-16 xl:right-36">
				<h2 class="relative -left-2 w-52 text-5xl md:-left-16 md:text-7xl">Hola mundo, it's Inés</h2>
				<h3 class="hidden w-96 text-4xl lg:block">
					photographer, filmmaker and dreamer who aim to share unique stories that make you feel this world
				</h3>
			</div>
		</div>
	</div>

	<div class="flex flex-col items-center justify-center bg-base-200">
		<div class="max-w-[768px] px-8 md:px-0">
			<AboutSubSection
				title={t("about_section_1.title")}
				src="/src/assets/about_1.jpg"
				alt="Selfie of Inés Cuevas Jiménez in the desert"
				loading="eager"
				text={[t("about_section_1.text_1"), t("about_section_1.text_2")]}
				textPaddingTop
			/>

			<AboutSubSection
				title={t("about_section_2.title")}
				src="/src/assets/about_2.jpg"
				alt="Selfie of Inés Cuevas Jiménez in the desert"
				direction="right"
				text={[t("about_section_2.text_1"), t("about_section_2.text_2")]}
			/>
		</div>
	</div>
</BasicLayout>

<style>
	#container {
		position: relative;
		margin: 0 auto;
		padding: 0;
		width: 100%;
		height: 100vh;
		overflow: hidden;

		h2 {
			font-family: "Dancing Script Variable", cursive;
		}

		h3 {
			font-family: "Dancing Script Variable", cursive;
		}
	}

	#text {
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		color: white;
	}

	#parallax {
		z-index: -1;
		position: fixed;
		width: 100%;
		height: 100%;
		background: url("/blog_hero.jpg") top left no-repeat transparent;
		background-size: cover;

		@media (min-width: 768px) {
			background-position: top;
		}
	}
</style>

<script>
	function parallax() {
		var parallax = document.getElementById("parallax");
		if (!parallax) return;
		parallax.style.top = -(window.scrollY / 4) + "px";
	}

	window.addEventListener("scroll", parallax, false);
</script>

<style is:global>
	footer.footer {
		display: none;
	}
</style>
