---
import LatestWorks from "@/components/home/LatestWorks.astro";
import TitleRewritter from "@/components/home/TitleRewritter.astro";
import WhyMe from "@/components/home/WhyMe.astro";
import Dashboard from "@/components/home/dashboard/SkillsContainer.astro";
import DiffContainer from "@/components/home/edition/DiffContainer.astro";
import Process from "@/components/home/process/Process.astro";
import { getLangFromUrl, useTranslations } from "@/i18n/utils";
import BasicLayout from "@/layouts/BasicLayout.astro";
import { changeLanguage } from "i18next";

changeLanguage("es");

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<BasicLayout>
	<link slot="custom-header-scripts" rel="stylesheet" href="/lite-youtube/lite-yt-embed.css" />
	<script slot="custom-header-scripts" is:inline src="/lite-youtube/lite-yt-embed.js"></script>

	<main>
		<section
			id="who-am-i"
			class="flex max-w-full flex-col items-center gap-16 p-8 md:flex-row md:justify-around md:gap-8"
		>
			<div class="who-am-i sm:flex sm:w-[50%] sm:items-center sm:justify-center">
				<TitleRewritter
					texts={["Hey, It's Ines", "Creativity", "Connecting", "Photography", "Travelling", "Storytelling"]}
				/>
			</div>
			<img
				class="rounded-[36%_64%_70%_30%_/_30%_30%_70%_70%]; mb-8 w-full min-w-[300px] max-w-[800px] flex-[2] animate-[fluid_45s_infinite_linear]"
				src="/hero_image.webp"
				alt="Selfie of Inés Cuevas Jiménez in the desert"
			/>
		</section>

		<section class="flex max-w-full grow flex-col items-center justify-center p-8">
			<div class="showreel-container flex w-full max-w-full flex-col items-center overflow-hidden lg:w-[1000px]">
				<h2 class="title">{t("showreel.title")}</h2>
				<lite-youtube videoid="U_4y5UKOOTI" image-bg="/trips/indonesia/1.webp" playlabel="My showreel"></lite-youtube>
				<a
					class="border-solid; btn mt-8 w-fit cursor-pointer self-center rounded-[5rem] border border-white bg-base-100 px-4 py-[0.8rem] text-[1.1rem] uppercase no-underline"
					href="/my-work">{t("showreel.button")}</a
				>
			</div>
		</section>

		<WhyMe />
		<Dashboard />
		<DiffContainer />
		<Process />
		<LatestWorks />
	</main>
</BasicLayout>

<style>
	@keyframes fluid {
		0% {
			border-radius: 79% 21% 39% 61% / 22% 80% 20% 78%;
		}
		16% {
			border-radius: 96% 4% 80% 20% / 58% 33% 67% 42%;
		}
		32% {
			border-radius: 56% 44% 69% 31% / 16% 80% 20% 84%;
		}
		50% {
			border-radius: 79% 21% 39% 61% / 22% 80% 20% 78%;
		}
		66% {
			border-radius: 56% 44% 69% 31% / 16% 80% 20% 84%;
		}
		82% {
			border-radius: 96% 4% 80% 20% / 58% 33% 67% 42%;
		}
		100% {
			border-radius: 79% 21% 39% 61% / 22% 80% 20% 78%;
		}
	}
	lite-youtube {
		width: 100%;
		border-radius: 10px;
	}

	@media (max-width: 576px) {
		lite-youtube {
			width: 100%;
		}
	}
</style>
